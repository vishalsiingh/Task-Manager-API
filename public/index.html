<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Task Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="https://img.icons8.com/color/48/task.png" />
<style>
  .blur-header {
    backdrop-filter: blur(6px); /* Soft blur */
    -webkit-backdrop-filter: blur(6px); /* Safari support */
    background-color: rgba(0, 0, 0, 0.2); /* Light transparent black */
    
  }
</style>





</head>
<body class="min-h-screen relative bg-gradient-to-br from-[#0C0C0C] via-[#481E14] to-[#9B3922] p-8 md:p-16 flex flex-col md:flex-row items-start gap-10 font-sans">

  <!-- Header with real-time clock -->
 <!-- <header class="fixed top-0 left-0 w-full bg-indigo-600 text-white p-4 flex justify-between items-center z-50 shadow-md">
  <h1 class="text-2xl font-bold">üìù Task Manager</h1>
  <a href="https://github.com" target="_blank" class="text-sm text-indigo-200 hover:underline">View Source ‚Üó</a>
  <div id="clock" class="text-sm"></div>
</header> -->
<header id="mainHeader" class="fixed top-0 left-0 right-0 z-50 flex items-center justify-between transition-all duration-500 ease-in-out h-20 px-6">
  <div>
    <h1 class="text-3xl font-extrabold tracking-wide select-none">
      <span class="text-orange-400">TaskManager</span>
      <span class="text-white"> ‚ö°Board</span>
    </h1>
    <p class="text-sm text-white/80"> Show your skills, your way.</p>
  </div>

  <!-- Right Content: Social Icons -->
  <div class="flex gap-4 items-center  text-sm text-white/80 ">
    <div class="flex items-center gap-2 font-mono">
    <span id="clock"></span> <!-- Time -->
    <span class="text-white/50">|</span>
    <span id="date"></span> <!-- Date -->
  </div>
    <!-- GitHub -->
    <a href="https://github.com/yourusername" target="_blank" rel="noopener noreferrer" class="text-white hover:text-orange-400 transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-6 h-6" viewBox="0 0 24 24">
        <path d="M12 .5C5.8.5.5 5.8.5 12a11.5 11.5 0 008 11c.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.6-4-1.6a3.2 3.2 0 00-1.3-1.7c-1-.7.1-.7.1-.7a2.5 2.5 0 011.8 1.2c1 .1 1.6-.8 1.9-1.3a2.7 2.7 0 01.8-1.6c-2.6-.3-5.3-1.3-5.3-5.8a4.5 4.5 0 011.2-3.1 4.1 4.1 0 01.1-3s1-.3 3.3 1.2a11.4 11.4 0 016 0c2.3-1.5 3.3-1.2 3.3-1.2a4.1 4.1 0 01.1 3 4.5 4.5 0 011.2 3.1c0 4.5-2.7 5.5-5.3 5.8a3 3 0 01.9 2.3v3.3c0 .3.2.7.8.6A11.5 11.5 0 0023.5 12C23.5 5.8 18.2.5 12 .5z"/>
      </svg>
    </a>

    <!-- LinkedIn -->
    <a href="https://www.linkedin.com/in/vishal--kashyap/" target="_blank" rel="noopener noreferrer" class="text-white hover:text-orange-400 transition">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-6 h-6" viewBox="0 0 24 24">
        <path d="M4.98 3.5A2.5 2.5 0 002.5 6a2.5 2.5 0 002.48 2.5 2.5 2.5 0 002.52-2.5A2.5 2.5 0 004.98 3.5zM2 9h6v12H2zM9 9h5.6v1.7h.1a6.1 6.1 0 015.5-3c5.9 0 7 3.9 7 9v10h-6v-9.2c0-2.2-.1-5-3-5s-3.5 2.3-3.5 4.8V21H9z"/>
      </svg>
    </a>
  </div>
</header>


  <!-- Main Content -->
  <!-- <main class="max-w-3xl mx-auto p-6 w-full"> -->
    <!-- Add Task Form -->
    <!-- <form id="taskForm" class="bg-white p-6 rounded-lg shadow-lg space-y-4 mb-10">
      <h2 class="text-xl font-semibold text-indigo-600">Add a New Task</h2>
      <input type="text" id="title" placeholder="Task title" required class="w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
      <input type="text" id="description" placeholder="Description (optional)" class="w-full p-3 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-400" />
      <button type="submit" class="w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition">‚ûï Add Task</button>
    </form> -->

    <!-- Task List -->
    <!-- <h2 class="text-2xl font-bold mb-4 text-gray-700">üìã Your Tasks</h2>
    <div id="taskList" class="space-y-4"></div>
  </main> -->
  <main class="pt-28 px-4 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 pb-24 w-full">

  <!-- Add Task Form -->
  <section>
    <form id="taskForm" class="backdrop-blur-md bg-white/10 border border-white/10 text-white p-6 rounded-2xl shadow-xl space-y-4 transition">
  <h2 class="text-2xl font-bold text-indigo-300">What are the Tasks ??</h2>
  <input type="text" id="title" placeholder="Task title" required class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/70 border border-white/20 focus:outline-none focus:ring-2 focus:ring-indigo-400" />
  <textarea id="description" placeholder=" Task Description (optional)" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/70 border border-white/20 focus:outline-none focus:ring-2 focus:ring-indigo-400"></textarea>
<button type="submit" class="w-full py-3 px-5 rounded-xl bg-gradient-to-r from-[#9B3922]/80 via-[#481E14]/80 to-[#0C0C0C]/80 text-white font-semibold tracking-wide backdrop-blur-md shadow-[0_4px_20px_rgba(0,0,0,0.3)] hover:scale-105 hover:shadow-[0_6px_30px_rgba(255,255,255,0.2)] transition-all duration-300 ease-in-out">
  Add Task
</button>


</form>

  </section>

  <!-- Task List -->
  <section>
    <h2 class="text-2xl font-bold mb-4 text-white">üìã Your Tasks</h2>
    <div id="taskList" class="space-y-4"></div>
  </section>

</main>


  <!-- Footer -->
 <footer class="fixed bottom-0 left-0 w-full bg-[#0C0C0C] text-white text-center p-3 text-sm z-50 border-t border-white/10 shadow-inner">
  Made with ‚ù§Ô∏è by <span class="text-orange-400 font-semibold">Vishal Kashyap</span> | <span id="footerDate"></span>
</footer>




  <!-- <script>
    const apiUrl = '/api/tasks';

    async function fetchTasks() {
      const res = await fetch(apiUrl);
      const tasks = await res.json();
      const taskList = document.getElementById('taskList');
      taskList.innerHTML = '';

      if (tasks.length === 0) {
        taskList.innerHTML = `<div class="text-center text-gray-500 py-10">üò¥ No tasks added yet. Start by creating one above!</div>`;
        return;
      }

      tasks.forEach(task => {
        const div = document.createElement('div');
        div.className = 'bg-white p-5 rounded-lg shadow flex justify-between items-center hover:shadow-xl transition';

        const checked = task.status === 'completed' ? 'checked' : '';

        div.innerHTML = `
          <div class="flex items-start gap-3">
            <input type="checkbox" ${checked} onclick="updateTask('${task._id}', '${task.status}')" class="w-5 h-5 mt-1 text-green-600" />
            <div>
              <h3 class="text-lg font-semibold ${checked ? 'line-through text-gray-400' : ''}">${task.title}</h3>
              <p class="text-sm text-gray-500">${task.description || "No description"}</p>
              <span class="text-xs inline-block mt-1 px-2 py-1 bg-${task.status === 'completed' ? 'green' : 'yellow'}-100 text-${task.status === 'completed' ? 'green' : 'yellow'}-700 rounded-full">
                ${task.status.toUpperCase()}
              </span>
            </div>
          </div>
          <button onclick="deleteTask('${task._id}')" title="Delete Task" class="text-red-500 hover:text-red-700 text-xl">üóë</button>
        `;
        taskList.appendChild(div);
      });
    }

    async function addTask(e) {
      e.preventDefault();
      const title = document.getElementById('title').value.trim();
      const description = document.getElementById('description').value.trim();

      if (!title) return alert("Task title is required.");

      await fetch(apiUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ title, description })
      });

      document.getElementById('taskForm').reset();
      fetchTasks();
    }

    async function deleteTask(id) {
      await fetch(`${apiUrl}/${id}`, { method: 'DELETE' });
      fetchTasks();
    }

    async function updateTask(id, currentStatus) {
      const newStatus = currentStatus === 'pending' ? 'completed' : 'pending';
      await fetch(`${apiUrl}/${id}`, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ status: newStatus })
      });
      fetchTasks();
    }

    function updateClock() {
      const now = new Date();
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      document.getElementById('clock').textContent = now.toLocaleTimeString() + ' | ' + now.toLocaleDateString(undefined, options);
      document.getElementById('footerDate').textContent = now.toLocaleDateString();
    }

    document.getElementById('taskForm').addEventListener('submit', addTask);
    fetchTasks();
    updateClock();
    setInterval(updateClock, 1000);
  </script> -->
  <script>
  // Blur header on scroll
  window.addEventListener("scroll", () => {
    const header = document.getElementById("mainHeader");
    if (window.scrollY > 10) {
      header.classList.add("blur-header");
    } else {
      header.classList.remove("blur-header");
    }
  });

  const apiUrl = '/api/tasks';

  async function fetchTasks() {
    const res = await fetch(apiUrl);
    const tasks = await res.json();
    const taskList = document.getElementById('taskList');
    taskList.innerHTML = '';

    if (tasks.length === 0) {
      taskList.innerHTML = `<div class="text-center text-gray-300 py-10">üò¥ No tasks added yet. Start by creating one above!</div>`;
      return;
    }

    tasks.forEach(task => {
      const div = document.createElement('div');
      div.className = `bg-white p-5 rounded-lg shadow flex justify-between items-start hover:shadow-xl transition border-l-4 ${task.status === 'completed' ? 'border-green-500' : 'border-yellow-400'}`;

      const checked = task.status === 'completed' ? 'checked' : '';

      div.innerHTML = `
        <div class="flex items-start gap-3 w-full">
          <input type="checkbox" ${checked} onclick="updateTask('${task._id}', '${task.status}')" class="w-5 h-5 mt-1 text-green-600 accent-green-500 cursor-pointer" />
          <div class="flex-1">
            <h3 class="text-lg font-semibold ${checked ? 'line-through text-gray-500' : 'text-gray-800'}">${task.title}</h3>
            <p class="text-sm text-gray-500">${task.description || "No description"}</p>
            <span class="text-xs mt-1 inline-block px-2 py-0.5 rounded-full ${task.status === 'completed' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-800'}">
              ${task.status.toUpperCase()}
            </span>
          </div>
          <button onclick="deleteTask('${task._id}')" title="Delete Task" class="text-red-500 hover:text-red-700 text-xl">üóë</button>
        </div>
      `;
      taskList.appendChild(div);
    });
  }

  async function addTask(e) {
    e.preventDefault();
    const title = document.getElementById('title').value.trim();
    const description = document.getElementById('description').value.trim();
    if (!title) return alert("Task title is required.");

    await fetch(apiUrl, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ title, description })
    });

    document.getElementById('taskForm').reset();
    fetchTasks();
  }

  async function deleteTask(id) {
    await fetch(`${apiUrl}/${id}`, { method: 'DELETE' });
    fetchTasks();
  }

  async function updateTask(id, currentStatus) {
    const newStatus = currentStatus === 'pending' ? 'completed' : 'pending';
    await fetch(`${apiUrl}/${id}`, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ status: newStatus })
    });
    fetchTasks();
  }

  function updateClock() {
    const now = new Date();
    const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
    document.getElementById('clock').textContent = now.toLocaleTimeString() + ' | ' + now.toLocaleDateString(undefined, options);
    document.getElementById('footerDate').textContent = now.getFullYear();
  }

  document.getElementById('taskForm').addEventListener('submit', addTask);
  fetchTasks();
  updateClock();
  setInterval(updateClock, 1000);
</script>


</body>
</html>
